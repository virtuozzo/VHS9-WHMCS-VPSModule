/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
// From: http://hg.mozilla.org/mozilla-central/raw-file/ec10630b1a54/js/src/devtools/jint/sunspider/string-base64.js
/*jslint white: false, bitwise: false, plusplus: false */
/*global console */
var Base64={toBase64Table:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split(""),base64Pad:"=",encode:function(e){"use strict";var t="",n=Base64.toBase64Table,r=e.length,i=r%3,s=0,o=0;for(s=0;s<r-2;s+=3)t+=n[e[s]>>2],t+=n[((e[s]&3)<<4)+(e[s+1]>>4)],t+=n[((e[s+1]&15)<<2)+(e[s+2]>>6)],t+=n[e[s+2]&63];return i===2?(o=r-i,t+=n[e[o]>>2],t+=n[((e[o]&3)<<4)+(e[o+1]>>4)],t+=n[(e[o+1]&15)<<2],t+=n[64]):i===1&&(o=r-i,t+=n[e[o]>>2],t+=n[(e[o]&3)<<4],t+=n[64],t+=n[64]),t},toBinaryTable:[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,0,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1],decode:function(e,t){"use strict";t=typeof t!="undefined"?t:0;var n=Base64.toBinaryTable,r=Base64.base64Pad,i,s,o,u,a,f,l=0,c=0,h=e.indexOf("=")-t;h<0&&(h=e.length-t),s=(h>>2)*3+Math.floor(h%4/1.5),i=new Array(s);for(o=0,u=t;u<e.length;u++){a=n[e.charCodeAt(u)&127],f=e.charAt(u)===r;if(a===-1){console.error("Illegal character code "+e.charCodeAt(u)+" at position "+u);continue}c=c<<6|a,l+=6,l>=8&&(l-=8,f||(i[o++]=c>>l&255),c&=(1<<l)-1)}if(l)throw{name:"Base64-Error",message:"Corrupted base64 string"};return i}};